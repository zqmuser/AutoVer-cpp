#!/bin/bash

if [ "$#" -ne 3 ]
then
  echo
  echo "Usage:  AutoVerHeader MAJOR MINOR PATCH"
  echo
  echo "i.e. AutoVerHeader 0 0 1"
  echo
  exit
fi

if [ ! -d .AutoVer ]
then
  echo "ERROR: This command must be called from"
  echo "       the top project directory, where"
  echo "       AutoVer has already been initialized"
  exit
fi

echo "Creating AutoVer.h file"

echo "/* File AutoVer.h" >AutoVer.h
echo "   Do NOT edit this file." >>AutoVer.h
echo "   Update with AutoVer commands." >>AutoVer.h
echo -n "   Last updated on " >>AutoVer.h
date +"%B %d, %Y" >>AutoVer.h
echo "*/" >>AutoVer.h
echo "#include <string>" >>AutoVer.h
echo "#ifndef AUTOVER_H" >>AutoVer.h
echo "#define AUTOVER_H" >>AutoVer.h
echo "const unsigned int AutoVerMajor=${1};" >>AutoVer.h
echo "const unsigned int AutoVerMinor=${2};" >>AutoVer.h
echo "const unsigned int AutoVerPatch=${3};" >>AutoVer.h
echo "const std::string AutoVerString=\"${1}.${2}.${3}\";" >>AutoVer.h
echo "#endif" >>AutoVer.h
echo " " >>AutoVer.h


